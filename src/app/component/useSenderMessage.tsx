import { useState } from "react";

export interface UserMessage {
  id: number;
  sender: number;
  message: string;
};

export const useSenderMessage = () => {

  function filterByName2(obj: any) {
    var i: number;
    var count: number = 0;
    var quantity: number=0;
    obj.forEach ((index: any)=>{
      quantity++;
    });
    for(i=0;i<quantity;i++){
      if (obj[i]=="overhand") count++;
    };
    if(count>0) 
      return true; 
    else 
      return false; 
  };

  function filterByName(obj: any) {
    if (obj.name=="overhand") {
      return true;
    } else {
      return false;
    };
  };

  const [messages, setMessage] = useState<UserMessage[]>([]);

  const takeMessage = (value: string, send: number) => {
    const message = {
      id: 1,
      sender: send,
      message: value
    };
    const newMessage = [
      {
        id: 2,
        sender: message.sender,
        message: message.message
      },
      ...messages
    ];
    setMessage(newMessage);
  }

  return {
    messages,
    takeMessage,
    filterByName
  }
};
